<div class="signup-component">
  <div class="signup-info">
    <h2>Créer votre compte</h2>
    <p class="subtext">Rejoignez la plateforme nationale des musées tunisiens pour suivre vos visites, gérer vos favoris et accéder aux tableaux de bord.</p>

    <div class="signup-form-card">
      <div class="signup-form-header">Inscription</div>
      <p class="signup-form-subtext">Complétez les informations ci-dessous pour créer votre espace personnel.</p>
      <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
        <label for="fullname">Nom complet</label>
        <div class="input-icon">
          <i class="bi bi-person"></i>
          <input type="text" id="fullname" formControlName="name" placeholder="Votre nom et prénom" autocomplete="name" />
        </div>
       @if(signupForm.get('name')?.errors?.['required'] && signupForm.get('name')?.touched)
          {
            <div class="error-message"><i class="bi bi-exclamation-triangle-fill"></i> Nom complet requis</div>
          }
          @if(signupForm.get('name')?.errors?.['pattern'] && signupForm.get('name')?.touched)
          {
            <div class="error-message"><i class="bi bi-exclamation-triangle-fill"></i> Le nom doit commencer par une majuscule et contenir uniquement des lettres</div>
          }

        <label for="email">Email</label>
        <div class="input-icon">
          <i class="bi bi-envelope"></i>
          <input type="email" id="email" formControlName="email" placeholder="vous@example.com" autocomplete="username" />
        </div>
        @if(signupForm.get('email')?.errors?.['required'] && signupForm.get('email')?.touched)
          {
            <div class="error-message"><i class="bi bi-exclamation-triangle-fill"></i> Email requis</div>
          }
          @if(signupForm.get('email')?.errors?.['pattern'] && signupForm.get('email')?.touched)
          {
            <div class="error-message"><i class="bi bi-exclamation-triangle-fill"></i> Format d'email invalide</div>
          }

        <label for="password">Mot de passe</label>
        <div class="input-icon">
          <i class="bi bi-lock"></i>
          <input type="password" id="password" formControlName="password" placeholder="••••••••" autocomplete="new-password" />
        </div>
        @if(signupForm.get('password')?.errors?.['required'] && signupForm.get('password')?.touched)
          {
            <div class="error-message"><i class="bi bi-exclamation-triangle-fill"></i> Mot de passe requis</div>
          }
          @if(signupForm.get('password')?.errors?.['pattern'] && signupForm.get('password')?.touched)
          {
            <div class="error-message"><i class="bi bi-exclamation-triangle-fill"></i> Doit contenir au moins 1 majuscule, 1 minuscule, 1 chiffre et 1 caractère spécial</div>
          }
          @if(signupForm.get('password')?.errors?.['minlength'] && signupForm.get('password')?.touched)
          {
            <div class="error-message"><i class="bi bi-exclamation-triangle-fill"></i> Minimum 8 caractères</div>
          }

        <label for="confirm-password">Confirmation</label>
        <div class="input-icon">
          <i class="bi bi-lock"></i>
          <input type="password" id="confirm-password" formControlName="confirmPassword" placeholder="Répétez le mot de passe" autocomplete="new-password" />
        </div>
          @if(signupForm.get('confirmPassword')?.invalid && signupForm.get('confirmPassword')?.touched)
            {
              <div class="error-message">Confirmation invalide</div>
            }

        <button type="submit" class="btn-primary">Créer mon compte</button>
      </form>

      <div class="separator">ou</div>

      <div class="social-signup">
        <button class="btn-social btn-facebook">
          <i class="bi bi-facebook"></i> Continuer avec Facebook
        </button>
        <button class="btn-social btn-github">
          <i class="bi bi-github"></i> Continuer avec GitHub
        </button>
      </div>

      <div class="login-link">
        Vous avez déjà un compte ? <a routerLink="/login">Se connecter</a>
      </div>
    </div>
  </div>

  <div class="info-card">
    <img src="photos/signup.jpg" alt="Musée Tunisie" />
    <div class="info-overlay">
      <div class="info-top-label">Un compte, tous les musées</div>
      <h3>Personnalisez votre parcours culturel en Tunisie</h3>
      <p class="info-text">Créez un profil, suivez vos visites, et accédez à des statistiques détaillées sur les musées tunisiens.</p>
    </div>
  </div>
</div>
