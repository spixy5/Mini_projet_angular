<div class="museum-management">
  <header class="museum-header">
    <h2>Gérer les musées</h2>
    <p class="museum-subtitle">Administration des musées de Tunisie — Ajoutez, consultez ou modifiez les fiches.</p>
    <button class="btn btn-primary add-museum-btn" type="button" [routerLink]="['/admin/add-museum']">
      <span class="btn-icon">+</span> Ajouter un musée
    </button>
  </header>
  <section class="museum-tip" role="note">
    <span class="tip-icon">●</span>
    <p>Astuce: utilisez la recherche pour retrouver rapidement un musée.</p>
    <div class="filters-section">
      <div class="search-box">
        <i class="bi bi-search"></i>
        <input type="text" placeholder="Rechercher un musée..." [(ngModel)]="searchTerm" (ngModelChange)="filterByName()">
      </div>
    </div>
  </section>
  <div class="museum-list-header">
    <span class="museum-header-title museum-column">Musée</span>
    <span class="museum-header-title actions-column">Actions</span>
  </div>
  <ul class="museum-list">
    @for (museum of museums; track museum.id) {
    <li class="museum-list-item">
          <div class="museum-image">
    <img [src]="museum.photo">
  </div>
      <div class="museum-info">

              @if (museum.category == 'Archaeological') {
       <p class="museum-category"> <i class="bi bi-archive"></i> Archéologique </p>
      }
      @if (museum.category == 'Ethnographic') {
       <p class="museum-category"> <i class="bi bi-people"></i> Ethnographique</p>
      }
      @if (museum.category == 'Islamic Art') {
       <p class="museum-category"><i class="bi bi-stars"></i> Art islamique </p>
      }
      @if (museum.category == 'Traditional Arts') {
       <p class="museum-category"> <i class="bi bi-palette"></i> Arts traditionnels </p>
      }
      @if (museum.category == 'Modern Art') {
       <p class="museum-category"> <i class="bi bi-brush"></i> Art moderne </p>
}

        <p class="museum-name">{{ museum.name }}, {{ museum.location }}</p>
                </div>
            <div class="museum-actions">
            <button class="btn btn-success" type="button" [routerLink]="['/admin/museum', museum.id, 'modify']">
                <i class="bi bi-pencil"></i> Modifier
            </button>
            <button class="btn btn-accent" type="button" [routerLink]="['/museum', museum.id]">
                <i class="bi bi-eye"></i> Voir
            </button>
            <button class="btn btn-destructive" type="button" (click)="deleteMuseum(museum.id ?? -1)">
                <i class="bi bi-trash"></i> Supprimer
            </button>
            </div>

    </li>
    }
    @empty {
    <li class="empty-state">
      <i class="bi bi-building-x"></i>
      <p>Aucun musée trouvé</p>
    </li>
    }
  </ul>

  <footer class="museum-footer">
    Affichage de {{museumsLength()}} musées — utilisez <button class="btn btn-primary-inline" type="button">+ Ajouter un musée</button> pour créer une nouvelle fiche.
  </footer>
</div>
